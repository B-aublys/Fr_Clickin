!function(e){var t={};function n(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(r,s,function(t){return e[t]}.bind(null,s));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t){const n=document.getElementById("listOfItems"),r="beforeend";let s,a="<p class='helpMessage'>Right click on an element and select <br/>'Send Element to Clicker'</p>",l="<p class='helpMessage'>Sorry we only work with http sites, if that bothers you please leave feadback ;), so we can improve the extension <br/> <b>Try reloading the page</b></p>";function i(e){let t=f(e.target),n=e.target.innerHTML.trim(),r="";for(let[t,s]of Object.entries(n))-1!=="0123456789".indexOf(s)&&(r+=s),e.target.innerHTML=r;d({interval:parseInt(r)},t)}function o(e){let t=f(e.target);d({intervalStep:e.target.value},t)}function c(e){let t=f(e.target);d({name:e.target.innerHTML},t)}function d(e,t){browser.storage.local.get(s,n=>{let r=JSON.parse(n[s]);r[t][Object.keys(e)[0]]=e[Object.keys(e)[0]],browser.storage.local.set({[s]:JSON.stringify(r)},()=>(function(e){browser.tabs.query({currentWindow:!0,active:!0},t=>{browser.tabs.sendMessage(t[0].id,{ID:"restartClicker",clicker:e})})})(t))})}function u(e){let t=f(e.target);-1==e.target.className.indexOf("Active")?(d({active:!0},t),e.target.className+=" Active"):(d({active:!1},t),e.target.className=e.target.className.replace("Active",""))}function f(e){let t=e.parentElement;for(console.log(t),console.log(e);;){if("clickItem"==t.classList[0])return t.classList[t.classList.length-1];t=t.parentElement}}function v(){let e=!1;browser.tabs.query({currentWindow:!0,active:!0},t=>{browser.tabs.sendMessage(t[0].id,{ID:"website"},t=>{t?(s=t.website,browser.storage.local.get(s,t=>{if(t[s]){let a=JSON.parse(t[s]);for(let[t,s]of Object.entries(a)){let a=`<div class="clickItem ${t}">\n                    <div class='clickItemContainer'>\n                    <div class="startStop elevatingInput ${s.active?"Active":""}" >\n                        <div class="buttonSizer ${s.active?"Active":""}"></div>\n                    </div>\n                    <div contentEditable autocomplete="off" autocorrect="off" autocapitalize="off"\n                        spellcheck="false" class="itemClassifier elevatingInput">${s.name?s.name:"Unnamed"}</div>\n                    \n                    <div class="intervalHolder">\n                        <span>Int:</span>\n                        <div contentEditable class="interval elevatingInput">\n                        ${s.interval}\n                        </div>\n                        <select class="intervalDropDown">\n                            <option ${"ms"==s.intervalStep?"Selected='selected'":""} value="ms">ms</option>\n                            <option ${"s"==s.intervalStep?"Selected='selected'":""} value="s">s</option>\n                    </select>\n                    </div>\n                    <div class="deleteButton elevatingInput"/>\n                    </div>\n                    </div>`;n.insertAdjacentHTML(r,a),e=!0}!function(){for(let e of n.getElementsByClassName("clickItem"))e.getElementsByClassName("deleteButton")[0].addEventListener("click",e=>g(e.target)),e.getElementsByClassName("interval")[0].addEventListener("blur",e=>i(e)),e.getElementsByClassName("intervalDropDown")[0].addEventListener("change",e=>o(e)),e.getElementsByClassName("itemClassifier")[0].addEventListener("blur",e=>c(e)),e.getElementsByClassName("startStop")[0].addEventListener("click",e=>u(e))}()}e||(n.parentElement.insertAdjacentHTML(r,a),e=!0)})):n.parentElement.insertAdjacentHTML(r,l)})})}function g(e){console.log("removing item");let t=f(e);browser.storage.local.get(s,e=>{let r=JSON.parse(e[s]);delete r[t],browser.storage.local.set({[s]:JSON.stringify(r)},()=>{!function(e){browser.tabs.query({currentWindow:!0,active:!0},t=>{browser.tabs.sendMessage(t[0].id,{ID:"stopClicker",clickerID:e})})}(t);for(let[e,r]of Object.entries(n.childNodes))"DIV"==r.tagName&&r.classList[r.classList.length-1]==t&&n.removeChild(r);1==n.childNodes.length&&v()})})}window.addEventListener("load",v)}]);